{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/puzzle.png","webpack:///./src/assets/favicon.png","webpack:///./src/assets/opengraph.jpg","webpack:///./src/assets/twittercard.jpg","webpack:///./src/responsiveImage.ts","webpack:///./src/animation/utils/numberUtils.ts","webpack:///./src/animation/utils/Vector2.ts","webpack:///./src/animation/celebration/Sparkle.ts","webpack:///./src/animation/celebration/index.ts","webpack:///./src/animation/utils/box.ts","webpack:///./src/animation/setup.ts","webpack:///./src/animation/interaction.ts","webpack:///./src/animation/placement.ts","webpack:///./src/animation/index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","srcSet","images","path","width","height","src","toString","placeholder","undefined","puzzleImages","puzzleContainer","document","getElementById","puzzleImageElement","minImageWidth","clientWidth","window","devicePixelRatio","pickedImage","find","image","setAttribute","random","min","max","Math","clamp","temp","Vector2","x","y","this","reset","decPlaces","scalar","pow","round","clone","copyTo","v","copyFrom","magnitude","sqrt","magnitudeSquared","normalise","reverse","plusEq","plusNew","minusEq","minusNew","multiplyEq","multiplyNew","divideEq","divideNew","dot","angle","useDegrees","atan2","Vector2Const","TO_DEGREES","rotate","cosRY","cos","TO_RADIANS","sinRY","sin","equals","isCloseTo","tolerance","rotateAroundPoint","point","isMagLessThan","distance","isMagGreaterThan","dist","PI","sparklePath","Path2D","canvasWidth","canvasHeight","start","scale","through","speed","position","save","translate","curScale","min1","max1","min2","max2","returnvalue","clampResult","globalAlpha","fill","restore","sparkles","triggerCelebration","canvas","clientHeight","pixelDensity","getContext","fillStyle","push","draw","clearRect","forEach","sparkle","update","requestAnimationFrame","getBox","element","buffer","top","left","getBoundingClientRect","innerWidth","innerHeight","screenMin","Array","from","getElementsByClassName","map","setup","screenWidth","screenHeight","avoidBoxes","puzzleBox","puzzle","paths","querySelectorAll","viewBox","touchedTriggers","onTouchMove","e","touches","touch","elementFromPoint","pageX","pageY","index","getAttribute","clearPiece","parseInt","addEventListener","indexOf","length","onPuzzleCompletion","parentNode","appendChild","setTimeout","style","removeProperty","lastPath","removeEventListener","transitionSpeed","getPropertyValue","body","placedPieces","testPlacement","pos","avoidDistance","some","box","piecePos","placementVector","pickPlacement","radius","placePieces","middle","cardinalMiddleToEdge","count","availablePixels","reduce","prev","pathLeft","pathTop","pathWidth","pathHeight","getBBox","pathY","pieceX","pieceY","startPos","setProperty","String","vecFromMiddle","vecFromMiddleMag","fullDist","abs","proposedPos","tries","difference","floor","trigger","once","setupTriggers","classList","remove","matches","prefersReducedMotion","matchMedia"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = {\n          srcSet: __webpack_public_path__ + \"47826a23df719689d7f47cacda3e62e2-400.png\"+\" 400w\"+\",\"+__webpack_public_path__ + \"2b7259e37bdd4847abdaefb8fd046dbf-600.png\"+\" 600w\"+\",\"+__webpack_public_path__ + \"ef6a3032d1763fdae913d246ccf9992b-800.png\"+\" 800w\"+\",\"+__webpack_public_path__ + \"aa21f3d31c053d83c394f324c3837f09-1000.png\"+\" 1000w\"+\",\"+__webpack_public_path__ + \"9222b5e2d0a17a65e388cd3704118f79-1200.png\"+\" 1200w\"+\",\"+__webpack_public_path__ + \"36628e0fb805af788f13140f4b743b4e-1500.png\"+\" 1500w\"+\",\"+__webpack_public_path__ + \"32227e4b25572e17d5e670888efcc5d7-2000.png\"+\" 2000w\"+\",\"+__webpack_public_path__ + \"6ca50bca6d1f138c3d3bf84c85e9754f-2500.png\"+\" 2500w\",\n          images:[ {path: __webpack_public_path__ + \"47826a23df719689d7f47cacda3e62e2-400.png\",width: 400,height: 400},{path: __webpack_public_path__ + \"2b7259e37bdd4847abdaefb8fd046dbf-600.png\",width: 600,height: 600},{path: __webpack_public_path__ + \"ef6a3032d1763fdae913d246ccf9992b-800.png\",width: 800,height: 800},{path: __webpack_public_path__ + \"aa21f3d31c053d83c394f324c3837f09-1000.png\",width: 1000,height: 1000},{path: __webpack_public_path__ + \"9222b5e2d0a17a65e388cd3704118f79-1200.png\",width: 1200,height: 1200},{path: __webpack_public_path__ + \"36628e0fb805af788f13140f4b743b4e-1500.png\",width: 1500,height: 1500},{path: __webpack_public_path__ + \"32227e4b25572e17d5e670888efcc5d7-2000.png\",width: 2000,height: 2000},{path: __webpack_public_path__ + \"6ca50bca6d1f138c3d3bf84c85e9754f-2500.png\",width: 2500,height: 2500}],\n          src: __webpack_public_path__ + \"47826a23df719689d7f47cacda3e62e2-400.png\",\n          toString:function(){return __webpack_public_path__ + \"47826a23df719689d7f47cacda3e62e2-400.png\"},\n          placeholder: undefined,\n          width: 400,\n          height: 400\n      }","export default __webpack_public_path__ + \"favicon.png\";","export default __webpack_public_path__ + \"opengraph.jpg\";","export default __webpack_public_path__ + \"twittercard.jpg\";","// @ts-ignore\r\nimport puzzleImagesTemp from './assets/puzzle.png?{sizes:[400,600,800,1000,1200,1500,2000,2500]}';\r\nconst puzzleImages = puzzleImagesTemp;\r\nconst puzzleContainer = document.getElementById('puzzle');\r\nconst puzzleImageElement = document.getElementById('puzzle-image');\r\nconst minImageWidth = puzzleContainer.clientWidth * (window.devicePixelRatio || 1);\r\nconst pickedImage = puzzleImages.images.find((image) => image.width > minImageWidth);\r\npuzzleImageElement.setAttribute('xlink:href', pickedImage.path);\r\n","export const randomInteger = (min, max) => {\r\n    if (max === undefined) {\r\n        max = min;\r\n        min = 0;\r\n    }\r\n    return Math.floor(Math.random() * (max + 1 - min)) + min;\r\n};\r\nexport const random = (min, max) => {\r\n    if (min === undefined) {\r\n        min = 0;\r\n        max = 1;\r\n    }\r\n    else if (max === undefined) {\r\n        max = min;\r\n        min = 0;\r\n    }\r\n    return Math.random() * (max - min) + min;\r\n};\r\nexport const map = (value, min1, max1, min2, max2, clampResult) => {\r\n    var returnvalue = ((value - min1) / (max1 - min1)) * (max2 - min2) + min2;\r\n    if (clampResult)\r\n        return clamp(returnvalue, min2, max2);\r\n    else\r\n        return returnvalue;\r\n};\r\nexport const clamp = (value, min, max) => {\r\n    if (max < min) {\r\n        var temp = min;\r\n        min = max;\r\n        max = temp;\r\n    }\r\n    return Math.max(min, Math.min(value, max));\r\n};\r\nexport const roundToDecimalPlace = (num, degree) => Math.round(num * Math.pow(10, degree)) / Math.pow(10, degree);\r\n","class Vector2 {\r\n    constructor(x, y) {\r\n        this.reset = (x, y) => {\r\n            this.x = x;\r\n            this.y = y;\r\n            return this;\r\n        };\r\n        this.toString = (decPlaces) => {\r\n            decPlaces = decPlaces || 3;\r\n            const scalar = Math.pow(10, decPlaces);\r\n            return `${Math.round(this.x * scalar) / scalar}, ${Math.round(this.y * scalar) / scalar}]`;\r\n        };\r\n        this.clone = () => {\r\n            return new Vector2(this.x, this.y);\r\n        };\r\n        this.copyTo = (v) => {\r\n            v.x = this.x;\r\n            v.y = this.y;\r\n        };\r\n        this.copyFrom = (v) => {\r\n            this.x = v.x;\r\n            this.y = v.y;\r\n        };\r\n        this.magnitude = () => {\r\n            return Math.sqrt(this.x * this.x + this.y * this.y);\r\n        };\r\n        this.magnitudeSquared = () => {\r\n            return this.x * this.x + this.y * this.y;\r\n        };\r\n        this.normalise = () => {\r\n            const m = this.magnitude();\r\n            this.x = this.x / m;\r\n            this.y = this.y / m;\r\n            return this;\r\n        };\r\n        this.reverse = () => {\r\n            this.x = -this.x;\r\n            this.y = -this.y;\r\n            return this;\r\n        };\r\n        this.plusEq = (v) => {\r\n            this.x += v.x;\r\n            this.y += v.y;\r\n            return this;\r\n        };\r\n        this.plusNew = (v) => {\r\n            return new Vector2(this.x + v.x, this.y + v.y);\r\n        };\r\n        this.minusEq = (v) => {\r\n            this.x -= v.x;\r\n            this.y -= v.y;\r\n            return this;\r\n        };\r\n        this.minusNew = (v) => {\r\n            return new Vector2(this.x - v.x, this.y - v.y);\r\n        };\r\n        this.multiplyEq = (scalar) => {\r\n            this.x *= scalar;\r\n            this.y *= scalar;\r\n            return this;\r\n        };\r\n        this.multiplyNew = (scalar) => {\r\n            const returnvec = this.clone();\r\n            return returnvec.multiplyEq(scalar);\r\n        };\r\n        this.divideEq = (scalar) => {\r\n            this.x /= scalar;\r\n            this.y /= scalar;\r\n            return this;\r\n        };\r\n        this.divideNew = (scalar) => {\r\n            const returnvec = this.clone();\r\n            return returnvec.divideEq(scalar);\r\n        };\r\n        this.dot = (v) => {\r\n            return this.x * v.x + this.y * v.y;\r\n        };\r\n        this.angle = (useDegrees) => {\r\n            return (Math.atan2(this.y, this.x) * (useDegrees ? Vector2Const.TO_DEGREES : 1));\r\n        };\r\n        this.rotate = (angle, useDegrees) => {\r\n            const cosRY = Math.cos(angle * (useDegrees ? Vector2Const.TO_RADIANS : 1));\r\n            const sinRY = Math.sin(angle * (useDegrees ? Vector2Const.TO_RADIANS : 1));\r\n            Vector2Const.temp.copyFrom(this);\r\n            this.x = Vector2Const.temp.x * cosRY - Vector2Const.temp.y * sinRY;\r\n            this.y = Vector2Const.temp.x * sinRY + Vector2Const.temp.y * cosRY;\r\n            return this;\r\n        };\r\n        this.equals = (v) => {\r\n            return this.x === v.x && this.y === v.y;\r\n        };\r\n        this.isCloseTo = (v, tolerance) => {\r\n            if (this.equals(v))\r\n                return true;\r\n            Vector2Const.temp.copyFrom(this);\r\n            Vector2Const.temp.minusEq(v);\r\n            return Vector2Const.temp.magnitudeSquared() < tolerance * tolerance;\r\n        };\r\n        this.rotateAroundPoint = (point, angle, useDegrees) => {\r\n            Vector2Const.temp.copyFrom(this);\r\n            Vector2Const.temp.minusEq(point);\r\n            Vector2Const.temp.rotate(angle, useDegrees);\r\n            Vector2Const.temp.plusEq(point);\r\n            this.copyFrom(Vector2Const.temp);\r\n        };\r\n        this.isMagLessThan = (distance) => {\r\n            return this.magnitudeSquared() < distance * distance;\r\n        };\r\n        this.isMagGreaterThan = (distance) => {\r\n            return this.magnitudeSquared() > distance * distance;\r\n        };\r\n        this.dist = (v) => {\r\n            return this.minusNew(v).magnitude();\r\n        };\r\n        this.x = x || 0;\r\n        this.y = y || 0;\r\n    }\r\n}\r\nconst Vector2Const = {\r\n    TO_DEGREES: 180 / Math.PI,\r\n    TO_RADIANS: Math.PI / 180,\r\n    temp: new Vector2(),\r\n};\r\nexport default Vector2;\r\n","import { map, random } from '../utils/numberUtils';\r\nconst sparklePath = new Path2D('M-5 1c-.6 0-1-.4-1-1s.4-1 1-1c4 0 4-5 4-7 0-.6.4-1 1-1s1 .4 1 1c0 2 0 7 4 7 .6 0 1 .4 1 1s-.4 1-1 1C1 1 1 6 1 8c0 .6-.4 1-1 1s-1-.4-1-1c0-2 0-7-4-7z');\r\nexport class Sparkle {\r\n    constructor({ canvasWidth, canvasHeight, start, }) {\r\n        this.canvasWidth = canvasWidth;\r\n        this.canvasHeight = canvasHeight;\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.scale = 0;\r\n        this.through = start;\r\n        this.speed = random(0.005, 0.015);\r\n        this.position();\r\n    }\r\n    position() {\r\n        const scale = Math.pow(random(0.75, 1.5), 3);\r\n        this.x = random(12 * scale, this.canvasWidth - 12 * scale);\r\n        this.y = random(18 * scale, this.canvasHeight - 18 * scale);\r\n        this.scale = scale;\r\n    }\r\n    draw(c) {\r\n        if (this.through < 0)\r\n            return;\r\n        c.save();\r\n        c.translate(this.x, this.y);\r\n        const curScale = map(Math.pow(Math.sin(this.through * Math.PI), 2), 0, 1, this.scale * 0.5, this.scale);\r\n        c.globalAlpha = Math.sin(this.through * Math.PI);\r\n        c.scale(curScale, curScale);\r\n        c.fill(sparklePath);\r\n        c.restore();\r\n    }\r\n    update() {\r\n        this.through += this.speed;\r\n        if (this.through >= 1) {\r\n            this.position();\r\n            this.through = 0;\r\n        }\r\n    }\r\n}\r\n","import { Sparkle } from './Sparkle';\r\nconst sparkles = [];\r\nexport const triggerCelebration = () => {\r\n    const canvas = document.getElementById('puzzle-celebration');\r\n    const { clientWidth: width, clientHeight: height } = canvas;\r\n    const pixelDensity = window.devicePixelRatio || 1;\r\n    canvas.width = width * pixelDensity;\r\n    canvas.height = height * pixelDensity;\r\n    const c = canvas.getContext('2d');\r\n    c.scale(pixelDensity, pixelDensity);\r\n    c.fillStyle = 'white';\r\n    for (let i = 0; i < 20; i++) {\r\n        sparkles.push(new Sparkle({ canvasWidth: width, canvasHeight: height, start: -i / 10 }));\r\n    }\r\n    const draw = () => {\r\n        c.clearRect(0, 0, width, height);\r\n        sparkles.forEach((sparkle) => {\r\n            sparkle.update();\r\n            sparkle.draw(c);\r\n        });\r\n        requestAnimationFrame(draw);\r\n    };\r\n    requestAnimationFrame(draw);\r\n};\r\n","export const getBox = (element, buffer = 0) => {\r\n    const { top, left, width, height } = element.getBoundingClientRect();\r\n    return {\r\n        top: top - buffer,\r\n        left: left - buffer,\r\n        width: width + buffer * 2,\r\n        height: height + buffer * 2,\r\n    };\r\n};\r\n","import { getBox } from './utils/box';\r\nconst screenWidth = window.innerWidth;\r\nconst screenHeight = window.innerHeight;\r\nconst screenMin = screenWidth < screenHeight ? screenWidth : screenHeight;\r\nconst puzzle = document.getElementById('puzzle');\r\nconst avoid = Array.from(document.getElementsByClassName('js-avoid'));\r\nconst avoidBoxes = avoid.map((element) => getBox(element, Math.min(screenMin * 0.03, 20)));\r\nexport const setup = {\r\n    screenWidth,\r\n    screenHeight,\r\n    screenMin,\r\n    avoidBoxes: [getBox(puzzle, Math.min(screenMin * 0.03, 30)), ...avoidBoxes],\r\n    puzzleBox: getBox(puzzle),\r\n    puzzle,\r\n    paths: document.querySelectorAll('#puzzle path'),\r\n    viewBox: {\r\n        x: 1000,\r\n        y: 1000,\r\n    },\r\n};\r\n","import { triggerCelebration } from './celebration';\r\nimport { setup } from './setup';\r\nconst touchedTriggers = [];\r\nexport const setupTriggers = () => {\r\n    const { paths } = setup;\r\n    document.body.style.setProperty('cursor', 'crosshair');\r\n    const triggers = Array.from(paths);\r\n    triggers.forEach((trigger, index) => {\r\n        trigger.setAttribute('index', String(index));\r\n        trigger.addEventListener('mouseenter', () => {\r\n            clearPiece(index);\r\n        }, { once: true });\r\n    });\r\n};\r\nconst onTouchMove = (e) => {\r\n    Array.from(e.touches).forEach((touch) => {\r\n        const element = document.elementFromPoint(touch.pageX, touch.pageY);\r\n        if (!element)\r\n            return;\r\n        const index = element.getAttribute('index');\r\n        if (!index)\r\n            return;\r\n        clearPiece(parseInt(index));\r\n    });\r\n};\r\ndocument.addEventListener('touchmove', onTouchMove);\r\nconst clearPiece = (index) => {\r\n    const { paths } = setup;\r\n    if (touchedTriggers.indexOf(index) !== -1)\r\n        return;\r\n    touchedTriggers.push(index);\r\n    const path = paths[index];\r\n    if (touchedTriggers.length === paths.length)\r\n        onPuzzleCompletion(path);\r\n    // svg stacking order is the DOM order\r\n    // so we have to move the path to the end to ensure it overlaps other pieces when moving into place\r\n    const parent = path.parentNode;\r\n    parent.appendChild(path);\r\n    window.setTimeout(() => {\r\n        path.style.removeProperty('--rotate');\r\n        path.style.removeProperty('--x');\r\n        path.style.removeProperty('--y');\r\n    }, 50);\r\n};\r\nconst onPuzzleCompletion = (lastPath) => {\r\n    document.removeEventListener('touchmove', onTouchMove);\r\n    const transitionSpeed = parseInt(lastPath.style.getPropertyValue('--transition-speed'));\r\n    window.setTimeout(() => {\r\n        document.body.style.removeProperty('cursor');\r\n    }, transitionSpeed);\r\n    window.setTimeout(triggerCelebration, transitionSpeed);\r\n};\r\n","import { clamp, random, randomInteger } from './utils/numberUtils';\r\nimport Vector2 from './utils/Vector2';\r\nimport { setupTriggers } from './interaction';\r\nimport { setup } from './setup';\r\nconst PLACEMENT_ATTEMPTS = 500;\r\nconst placedPieces = [];\r\nconst testPlacement = (pos, avoidDistance) => {\r\n    const { screenWidth, screenHeight, avoidBoxes } = setup;\r\n    // inside walls\r\n    if (pos.x < 0 || pos.x > screenWidth)\r\n        return false;\r\n    if (pos.y < 0 || pos.y > screenHeight)\r\n        return false;\r\n    // avoid boxes\r\n    const hitBox = avoidBoxes.some((box) => pos.x > box.left &&\r\n        pos.x < box.left + box.width &&\r\n        pos.y > box.top &&\r\n        pos.y < box.top + box.height);\r\n    if (hitBox)\r\n        return false;\r\n    // avoid placed pieces\r\n    if (avoidDistance > 0) {\r\n        const hitDot = placedPieces.some((piecePos) => pos.dist(piecePos) < avoidDistance);\r\n        if (hitDot)\r\n            return false;\r\n    }\r\n    return true;\r\n};\r\nconst placementVector = new Vector2(0, 1);\r\nconst pickPlacement = (pos, radius) => pos.plusNew(placementVector\r\n    .normalise()\r\n    .multiplyEq(random(0, radius))\r\n    .rotate(random(0, Math.PI)));\r\nexport const placePieces = () => {\r\n    const { screenWidth, screenHeight, avoidBoxes, puzzleBox, puzzle, paths, viewBox, } = setup;\r\n    const { top, left, width, height } = puzzleBox;\r\n    const middle = new Vector2(left + width / 2, top + height / 2);\r\n    const cardinalMiddleToEdge = width / 2 + 10;\r\n    const count = paths.length;\r\n    const availablePixels = avoidBoxes.reduce((prev, { width, height }) => prev - width * height, screenWidth * screenHeight);\r\n    let avoidDistance = Math.max(width / Math.sqrt(count), Math.sqrt(availablePixels / count) * 0.5);\r\n    for (let i = 0; i < count; i++) {\r\n        const path = paths[i];\r\n        const { x: pathLeft, y: pathTop, width: pathWidth, height: pathHeight, } = path.getBBox();\r\n        const pathX = pathLeft + pathWidth / 2;\r\n        const pathY = pathTop + pathHeight / 2;\r\n        const pieceX = pathX / viewBox.x;\r\n        const pieceY = pathY / viewBox.y;\r\n        const startX = left + pieceX * width;\r\n        const startY = top + pieceY * height;\r\n        const startPos = new Vector2(startX, startY);\r\n        paths[i].style.setProperty('--pieceX', String(pieceX));\r\n        paths[i].style.setProperty('--pieceY', String(pieceY));\r\n        const vecFromMiddle = startPos.minusNew(middle);\r\n        const vecFromMiddleMag = vecFromMiddle.magnitude();\r\n        vecFromMiddle.normalise();\r\n        const normalMultiplier = Math.max(Math.abs(vecFromMiddle.x), Math.abs(vecFromMiddle.y));\r\n        const fullDist = cardinalMiddleToEdge / normalMultiplier - vecFromMiddleMag;\r\n        const push = vecFromMiddle.multiplyEq(fullDist * 2.2);\r\n        const proposedPos = startPos.plusNew(push);\r\n        // keep proposed position within page\r\n        if (proposedPos.x < 0)\r\n            proposedPos.x = 0;\r\n        if (proposedPos.x > screenWidth)\r\n            proposedPos.x = screenWidth;\r\n        if (proposedPos.y < 0)\r\n            proposedPos.y = 0;\r\n        if (proposedPos.y > screenHeight)\r\n            proposedPos.y = screenHeight;\r\n        const radius = fullDist * 0.5 + 20;\r\n        let pos = pickPlacement(proposedPos, radius);\r\n        let tries = 1;\r\n        while (!testPlacement(pos, avoidDistance - tries / 20) &&\r\n            tries < PLACEMENT_ATTEMPTS) {\r\n            tries++;\r\n            pos = pickPlacement(pos, radius + tries / 20);\r\n        }\r\n        if (tries === PLACEMENT_ATTEMPTS) {\r\n            pos = proposedPos;\r\n        }\r\n        placedPieces.push(pos);\r\n        const difference = pos.minusNew(startPos).divideEq(width);\r\n        paths[i].style.setProperty('--rotate', `${randomInteger(50, 100) * (Math.random() < 0.5 ? -1 : 1)}deg`);\r\n        paths[i].style.setProperty('--x', `${difference.x * 100}%`);\r\n        paths[i].style.setProperty('--y', `${difference.y * 100}%`);\r\n        setTimeout(() => {\r\n            paths[i].style.setProperty('--transition-speed', `${Math.floor(clamp(difference.magnitude() * 1000, 200, 400))}ms`);\r\n        }, 100);\r\n    }\r\n    setupTriggers();\r\n    puzzle.classList.remove('js-hidden');\r\n};\r\n","import { placePieces } from './placement';\r\nconst { matches: prefersReducedMotion } = window.matchMedia('(prefers-reduced-motion: reduce)');\r\nif (prefersReducedMotion) {\r\n    const puzzle = document.getElementById('puzzle');\r\n    puzzle === null || puzzle === void 0 ? void 0 : puzzle.classList.remove('js-hidden');\r\n}\r\nelse {\r\n    window.addEventListener('load', placePieces);\r\n}\r\n"],"sourceRoot":""}